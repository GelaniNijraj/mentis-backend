

Wed Mar 14 21:58:01 2018
Command line: TestDisk

TestDisk 7.0, Data Recovery Utility, April 2015
Christophe GRENIER <grenier@cgsecurity.org>
http://www.cgsecurity.org
OS: Linux, kernel 4.15.5-1-ARCH (#1 SMP PREEMPT Thu Feb 22 22:15:20 UTC 2018) x86_64
Compiler: GCC 6.3
Compilation date: 2017-03-29T18:57:40
ext2fs lib: 1.43.9, ntfs lib: libntfs-3g, reiserfs lib: 0.3.0.5, ewf lib: none, curses lib: ncurses 6.0
/dev/sda: LBA, HPA, LBA48, DCO support
/dev/sda: size       1953525168 sectors
/dev/sda: user_max   1953525168 sectors
/dev/sda: native_max 1953525168 sectors
/dev/sda: dco        1953525168 sectors
Warning: can't get size for Disk /dev/mapper/control - 0 B - 0 sectors, sector size=512
Hard disk list
Disk /dev/sda - 1000 GB / 931 GiB - CHS 121601 255 63, sector size=512 - TOSHIBA MQ01ABD100, S/N:4657SIVFS, FW:AX0P3D
Disk /dev/sdc - 2063 MB / 1968 MiB - CHS 1015 64 62, sector size=512, FW:PMAP

Partition table type (auto): Intel
Disk /dev/sdc - 2063 MB / 1968 MiB
Partition table type: Intel

Analyse Disk /dev/sdc - 2063 MB / 1968 MiB - CHS 1015 64 62
Geometry from i386 MBR: head=255 sector=63
BAD_RS LBA=2048 2016
FAT32 at 0/33/3
Info: size boot_sector 4028416, partition 4028416
FAT1 : 338-4264
FAT2 : 4265-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-4028415
sectors : 4028416
cluster_size : 8
no_of_cluster : 502528 (2 - 502529)
fat_length 3927 calculated 3927
heads/cylinder 255 (FAT) != 64 (HD)
sect/track 63 (FAT) != 62 (HD)
Current partition structure:
Warning: number of heads/cylinder mismatches 255 (FAT) != 64 (HD)
Warning: number of sectors per track mismatches 63 (FAT) != 62 (HD)
 1 * FAT32 LBA                0  33  3  1015  47 30    4028416 [ARCH_201601]

Warning: Bad ending sector (CHS and LBA don't match)
Backup partition structure
partition_save

search_part()
Disk /dev/sdc - 2063 MB / 1968 MiB - CHS 1015 64 62
FAT32 at 0/33/3
FAT1 : 338-4264
FAT2 : 4265-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-4028415
sectors : 4028416
cluster_size : 8
no_of_cluster : 502528 (2 - 502529)
fat_length 3927 calculated 3927
heads/cylinder 255 (FAT) != 64 (HD)
sect/track 63 (FAT) != 62 (HD)

FAT32 at 0/33/3
     FAT32                    0  33  3  1015  47 30    4028416 [ARCH_201601]
     FAT32, blocksize=4096, 2062 MB / 1967 MiB
Warning: the current number of heads per cylinder is 64 but the correct value may be 255.

Results
   * FAT32                    0  33  3  1015  47 30    4028416 [ARCH_201601]
     FAT32, blocksize=4096, 2062 MB / 1967 MiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 4028416 linear /dev/sdc 2048" | dmsetup create test0

interface_write()
 1 * FAT32                    0  33  3  1015  47 30    4028416 [ARCH_201601]

search_part()
Disk /dev/sdc - 2063 MB / 1968 MiB - CHS 1015 64 62
FAT32 at 0/33/3
FAT1 : 338-4264
FAT2 : 4265-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-4028415
sectors : 4028416
cluster_size : 8
no_of_cluster : 502528 (2 - 502529)
fat_length 3927 calculated 3927
heads/cylinder 255 (FAT) != 64 (HD)
sect/track 63 (FAT) != 62 (HD)

FAT32 at 0/33/3
     FAT32                    0  33  3  1015  47 30    4028416 [ARCH_201601]
     FAT32, blocksize=4096, 2062 MB / 1967 MiB
FAT32 at 0/33/9
FAT1 : 338-4264
FAT2 : 4265-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-4028415
sectors : 4028416
cluster_size : 8
no_of_cluster : 502528 (2 - 502529)
fat_length 3927 calculated 3927
heads/cylinder 255 (FAT) != 64 (HD)
sect/track 63 (FAT) != 62 (HD)
set_FAT_info: name from BS used

FAT32 at 0/33/9
     FAT32                    0  33  3  1015  47 30    4028416 [NO NAME]
     FAT32, blocksize=4096, 2062 MB / 1967 MiB
Warning: the current number of heads per cylinder is 64 but the correct value may be 255.

Results
   * FAT32                    0  33  3  1015  47 30    4028416 [ARCH_201601]
     FAT32, blocksize=4096, 2062 MB / 1967 MiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 4028416 linear /dev/sdc 2048" | dmsetup create test0
Change partition type:
   * FAT32                    0  33  3  1015  47 30    4028416 [ARCH_201601]
     FAT32, blocksize=4096, 2062 MB / 1967 MiB

interface_write()
 1 * FAT32                    0  33  3  1015  47 30    4028416 [ARCH_201601]
simulate write!

write_mbr_i386: starting...
write_all_log_i386: starting...
No extended partition
New options :
 Dump : No
 Align partition: Yes
 Expert mode : No

TestDisk exited normally.
